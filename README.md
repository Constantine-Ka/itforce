# ITForce
## Тестовое задание
Проект REST_API-сервера, написан с использованием готовой веб-библиотеки **[Echo](https://echo.labstack.com/)**. Сервер предоставляет всего два Хэндлера и Swagger.

### Хендлеры
- *POST /purchase/* - Принимает входные параметры (user_id и сумму). 
- *GET /history/* - Выводит список действий, как по пользователю, так по всем.
- *GET /docs/index.html* -Документация 

### База данных
* Для хранения данных выбрана PG. 
* * Таблица **users**  содержит информацию о пользователях и их баланс.
* * Таблица **dict_action** словарь действий. Применяется для уменьшения места на диске, а также для упрощения масштабирования.
* * Таблица **action_history** хранит историю транзакций. Также связана с таблицами users и dict_action видом "Один ко многим"
* Реализовано создание отсутствующей таблицы из файлов папки migration
* ORM не используется. Библиотека обработки SQL-запросов **[sqlx](https://github.com/jmoiron/sqlx)**

### Конфигурация
- Файл конфигурации **config.yaml**
- Чтение файла происходит библиотекой **[viper](https://github.com/spf13/viper)** 

## Запуск в Docker
Файлы для сборки в контейнер и запуска вместе с базой данных находятся в папке **/deployments/**
- Для запуска проекта требуется войти в данную папку ```cd deployments``` и запустить docker-compose ```docker-compose up```

